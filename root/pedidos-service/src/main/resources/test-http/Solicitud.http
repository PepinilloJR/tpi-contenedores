### Variables
@baseUrl = http://localhost:8001
@contentType = application/json

### 1. Crear una nueva solicitud
POST {{baseUrl}}/api/solicitudes
Content-Type: {{contentType}}

{
  "nombreCliente": "Juan",
  "apellidoCliente": "Pérez",
  "telefonoCliente": "351-1234567",
  "direccionCliente": "Av. Colón 1234",
  "dniCliente": "12345678",
  "peso": 150.5,
  "volumen": 2.5,
  "nombreOrigen": "Depósito Central",
  "tipoOrigen": "ORIGEN",
  "latitudOrigen": -31.4201,
  "longitudOrigen": -64.1888,
  "nombreDestino": "Sucursal Norte",
  "tipoDestino": "DESTINO",
  "latitudDestino": -31.3897,
  "longitudDestino": -64.1834
}

### 2. Obtener todas las solicitudes
GET {{baseUrl}}/api/solicitudes
Content-Type: {{contentType}}

### 3. Obtener una solicitud por ID
GET {{baseUrl}}/api/solicitudes/1
Content-Type: {{contentType}}

### 3.1. Obtener solicitud por ID de contenedor
GET {{baseUrl}}/api/solicitudes/contenedor/1
Content-Type: {{contentType}}

### 3.2. Test: Obtener solicitud por ID de contenedor inexistente (debe fallar)
GET {{baseUrl}}/api/solicitudes/contenedor/999
Content-Type: {{contentType}}

### 4. Obtener todas las solicitudes de un cliente por su ID
GET {{baseUrl}}/api/solicitudes/cliente/1
Content-Type: {{contentType}}

### 4.1. Obtener una solicitud específica de un cliente
GET {{baseUrl}}/api/solicitudes/1/cliente/1
Content-Type: {{contentType}}

### 4.2. Test: Obtener solicitud con ID que no pertenece al cliente (debe fallar)
GET {{baseUrl}}/api/solicitudes/1/cliente/999
Content-Type: {{contentType}}

### 4.3. Test: Obtener solicitud inexistente de un cliente (debe fallar)
GET {{baseUrl}}/api/solicitudes/999/cliente/1
Content-Type: {{contentType}}

### 5. Actualizar una solicitud (solo estado y costos)
PUT {{baseUrl}}/api/solicitudes/1
Content-Type: {{contentType}}

{
  "estado": "PROGRAMADA",
  "costoEstimado": 5000.0,
  "costoFinal": null
}

### 6. Actualizar estado a EN_TRANSITO
PUT {{baseUrl}}/api/solicitudes/1
Content-Type: {{contentType}}

{
  "estado": "EN_TRANSITO",
  "costoEstimado": 5000.0,
  "costoFinal": null
}

### 7. Actualizar estado a ENTREGADA con costo final
PUT {{baseUrl}}/api/solicitudes/1
Content-Type: {{contentType}}

{
  "estado": "ENTREGADA",
  "costoEstimado": 5000.0,
  "costoFinal": 4850.0
}

### 8. Actualizar solo costos sin cambiar estado
PUT {{baseUrl}}/api/solicitudes/1
Content-Type: {{contentType}}

{
  "costoEstimado": 5500.0,
  "costoFinal": 5200.0
}

### 9. Obtener seguimiento de una solicitud de un cliente (después de cambios de estado)
GET {{baseUrl}}/api/solicitudes/1/cliente/1/seguimiento
Content-Type: {{contentType}}

### 9.1. Obtener seguimiento de otra solicitud
GET {{baseUrl}}/api/solicitudes/2/cliente/1/seguimiento
Content-Type: {{contentType}}

### 9.2. Test: Obtener seguimiento de solicitud que no pertenece al cliente (debe fallar)
GET {{baseUrl}}/api/solicitudes/1/cliente/999/seguimiento
Content-Type: {{contentType}}

### 9.3. Test: Obtener seguimiento de solicitud inexistente (debe fallar)
GET {{baseUrl}}/api/solicitudes/999/cliente/1/seguimiento
Content-Type: {{contentType}}

### 9.4. Crear solicitud nueva para ver seguimiento inicial
POST {{baseUrl}}/api/solicitudes
Content-Type: {{contentType}}

{
  "nombreCliente": "Pedro",
  "apellidoCliente": "López",
  "telefonoCliente": "351-5555555",
  "direccionCliente": "Calle Test 123",
  "dniCliente": "99999999",
  "peso": 50.0,
  "volumen": 1.0,
  "nombreOrigen": "Origen Test",
  "tipoOrigen": "ORIGEN",
  "latitudOrigen": -31.4000,
  "longitudOrigen": -64.1800,
  "nombreDestino": "Destino Test",
  "tipoDestino": "DESTINO",
  "latitudDestino": -31.3900,
  "longitudDestino": -64.1700
}

### 9.5. Obtener seguimiento de solicitud sin cambios (solo estado inicial BORRADOR)
GET {{baseUrl}}/api/solicitudes/2/cliente/2/seguimiento
Content-Type: {{contentType}}

### 10. Eliminar una solicitud
DELETE {{baseUrl}}/api/solicitudes/1
Content-Type: {{contentType}}

### 11. Crear solicitud con cliente existente (mismo DNI)
POST {{baseUrl}}/api/solicitudes
Content-Type: {{contentType}}

{
  "nombreCliente": "Juan",
  "apellidoCliente": "Pérez",
  "telefonoCliente": "351-1234567",
  "direccionCliente": "Av. Colón 1234",
  "dniCliente": "12345678",
  "peso": 80.0,
  "volumen": 1.2,
  "nombreOrigen": "Depósito Sur",
  "tipoOrigen": "DEPOSITO",
  "latitudOrigen": -31.4500,
  "longitudOrigen": -64.2000,
  "nombreDestino": "Sucursal Este",
  "tipoDestino": "ORIGEN",
  "latitudDestino": -31.4100,
  "longitudDestino": -64.1700
}

### 12. Test: Crear con tipo de ubicación inválido (debe fallar)
POST {{baseUrl}}/api/solicitudes
Content-Type: {{contentType}}

{
  "nombreCliente": "María",
  "apellidoCliente": "González",
  "telefonoCliente": "351-9876543",
  "direccionCliente": "Bv. San Juan 567",
  "dniCliente": "87654321",
  "peso": 100.0,
  "volumen": 1.5,
  "nombreOrigen": "Origen Test",
  "tipoOrigen": "INVALIDO",
  "latitudOrigen": -31.4000,
  "longitudOrigen": -64.1800,
  "nombreDestino": "Destino Test",
  "tipoDestino": "SUCURSAL",
  "latitudDestino": -31.3900,
  "longitudDestino": -64.1750
}

### 13. Test: Actualizar con estado inválido (debe fallar)
PUT {{baseUrl}}/api/solicitudes/1
Content-Type: {{contentType}}

{
  "estado": "CANCELADA"
}